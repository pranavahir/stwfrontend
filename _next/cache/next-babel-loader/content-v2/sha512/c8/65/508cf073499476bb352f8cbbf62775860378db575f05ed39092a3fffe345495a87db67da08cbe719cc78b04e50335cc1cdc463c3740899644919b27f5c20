{"ast":null,"code":"import _defineProperty from \"C:/Mani/Office/Template/StwEcommerce/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:/Mani/Office/Template/StwEcommerce/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Mani/Office/Template/StwEcommerce/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Mani\\\\Office\\\\Template\\\\StwEcommerce\\\\frontend\\\\pages\\\\page\\\\account\\\\common\\\\checkout-page.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState } from \"react\";\nimport { Media, Container, Form, Row, Input, Col } from \"reactstrap\";\nimport { PayPalButton } from \"react-paypal-button\";\nimport CartContext from \"../../../../helpers/cart\";\nimport paypal from \"../../../../public/assets/images/paypal.png\";\nimport { useForm } from \"react-hook-form\";\nimport { useRouter } from \"next/router\";\nimport Axios from \"axios\";\nimport { CurrencyContext } from \"../../../../helpers/Currency/CurrencyContext\";\nimport strip from 'stripe';\nimport GooglePayButton from '@google-pay/button-react'; // import  Razorpay = require('razorpay');\n// const stripe = require('stripe')('pk_live_51IYvwgAR19qkTg2Rtd20aLk5vwFsCRajMN8I9aZl8zFfXj14qDxppEDhfLMp51b9OohTumAh7vSlO6IccIP5iIh600zA024lK7');\n\nvar CheckoutPage = function CheckoutPage() {\n  _s();\n\n  var _jsx, _jsx2, _jsx3, _jsx4, _jsx5;\n\n  var cartContext = useContext(CartContext);\n  var cartItems = cartContext.state;\n  var cartTotal = cartContext.cartTotal.toFixed(2);\n  var curContext = useContext(CurrencyContext);\n  var symbol = curContext.state.symbol;\n\n  var _useState = useState({}),\n      obj = _useState[0],\n      setObj = _useState[1];\n\n  var _useState2 = useState(\"Gpay\"),\n      payment = _useState2[0],\n      setPayment = _useState2[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors; // initialise the hook\n\n\n  var router = useRouter();\n\n  var checkhandle = function checkhandle(value) {\n    setPayment(value);\n  };\n  /** Launches payment request flow when user taps on buy button. */\n\n\n  var onBuyClicked = function onBuyClicked() {\n    var creditCardPaymentMethod = {\n      supportedMethods: 'basic-card',\n      data: {\n        supportedNetworks: ['visa', 'mastercard'],\n        supportedTypes: ['credit', 'debit']\n      }\n    };\n    var supportedInstruments = [{\n      supportedMethods: ['https://tez.google.com/pay'],\n      //supportedMethods:[creditCardPaymentMethod],\n      data: {\n        pa: 'shoptheworld@dbs',\n        pn: 'STW E-Commerce',\n        tr: '123456ABCDEFSD',\n        url: '***********',\n        mc: '5045',\n        tn: 'Purchase in Merchant'\n      }\n    }];\n    var details = {\n      total: {\n        label: 'Total',\n        amount: {\n          currency: 'INR',\n          value: '10.01' //sample amount \n\n        }\n      },\n      displayItems: [{\n        label: 'Original Amount',\n        amount: {\n          currency: 'INR',\n          value: '10.01'\n        }\n      }]\n    };\n    var request = null;\n\n    try {\n      request = new PaymentRequest(supportedInstruments, details);\n      console.log(request);\n      /*request.show()\r\n      .then(function(result){\r\n          alert(\"hai\");\r\n      })\r\n       .catch(function(err){\r\n          alert('Payment Request Error: '+ err.message+' 74'); \r\n      });*/\n    } catch (e) {\n      alert('Payment Request Error: ' + e.message + '77');\n      console.log('Payment Request Error: ' + e.message); //return;\n    }\n\n    if (!request) {\n      alert('Web payments are not supported in this browser 77');\n      console.log('Web payments are not supported in this browser.'); // return;\n    }\n\n    var canMakePaymentPromise = checkCanMakePayment(request);\n    canMakePaymentPromise.then(function (result) {\n      showPaymentUI(request, result);\n    })[\"catch\"](function (err) {\n      console.log('Error in calling checkCanMakePayment: ' + err);\n    });\n  };\n\n  var canMakePaymentCache = 'canMakePaymentCache'; // const loadScript=(src) => \n\n  var checkCanMakePayment = function checkCanMakePayment(request) {\n    // Checks canMakePayment cache, and use the cache result if it exists. \n    if (sessionStorage.hasOwnProperty(canMakePaymentCache)) {\n      return Promise.resolve(JSON.parse(sessionStorage[canMakePaymentCache]));\n    } // If canMakePayment() isn't available, default to assuming that the method is supported\n\n\n    var canMakePaymentPromise = request.canMakePayment();\n\n    if (request.canMakePayment) {\n      canMakePaymentPromise = request.canMakePayment();\n    }\n\n    return canMakePaymentPromise.then(function (result) {\n      sessionStorage[canMakePaymentCache] = result;\n      return result;\n    })[\"catch\"](function (err) {\n      alert('Error calling canMakePayment: ' + err);\n      console.log('Error calling canMakePayment: ' + err);\n    });\n  };\n\n  var showPaymentUI = function showPaymentUI(request, canMakePayment) {\n    if (!canMakePayment) {\n      handleNotReadyToPay();\n      return;\n    } // Set payment timeout.\n\n\n    var paymentTimeout = window.setTimeout(function () {\n      window.clearTimeout(paymentTimeout);\n      request.abort().then(function () {\n        alert('Payment timed out after 20 mins 129');\n        console.log('Payment timed out after 20 mins');\n      })[\"catch\"](function () {\n        alert('Unable to abort,user is in process of paying 132');\n        console.log('Unable to abort,user is in process of paying');\n      });\n    }, 20 * 60 * 1000);\n    request.show().then(function (paymentResponse) {\n      window.clearTimeout(paymentTimeout);\n      alert(\"Request Success\");\n      console.log(paymentResponse);\n      processResponse(paymentResponse); // Handle response from browser\n    })[\"catch\"](function (err) {\n      alert(err + '142');\n      console.log(err);\n    });\n  };\n\n  var handleNotReadyToPay = function handleNotReadyToPay() {\n    alert(\"Tez is not ready to handle 149\");\n  };\n\n  var processResponse = function processResponse(paymentResponse) {\n    var paymentResponseString = paymentResponseToJsonString(paymentResponse);\n    console.log(paymentResponseString);\n    /* fetch('/buy',{\r\n        method: 'POST',\r\n        headers: new Headers({'Content-Type':'application/json'}),\r\n        body:paymentResponseString\r\n    })\r\n    .then(function(buyResult){\r\n        console.log('Buy Result'+buyResult);   \r\n    })\r\n    .catch(function(err){\r\n      console.log('Unable to process payment. '+err);   \r\n    });*/\n  };\n\n  var loadScript = function loadScript(src) {\n    return new Promise(function (resolve) {\n      var script = document.createElement('script');\n      script.src = src;\n\n      script.onload = function () {\n        resolve(true);\n      };\n\n      script.onerror = function () {\n        resolve(false);\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  var razorPayPaymentHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(filledData) {\n      var res, API_URL, orderUrl, response, data, options, rzp1;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return loadScript('https://checkout.razorpay.com/v1/checkout.js');\n\n            case 2:\n              res = _context2.sent;\n\n              if (res) {\n                _context2.next = 6;\n                break;\n              }\n\n              alert('Razorpay SDK failed to load. Are you online?');\n              return _context2.abrupt(\"return\");\n\n            case 6:\n              API_URL = \"http://localhost:7000/razorpay/\";\n              orderUrl = \"\".concat(API_URL, \"order\");\n              _context2.next = 10;\n              return Axios.post(orderUrl, {\n                amount: 1\n              });\n\n            case 10:\n              response = _context2.sent;\n              data = response.data;\n              console.log(\"App -> razorPayPaymentHandler -> data\", data);\n              options = {\n                key: \"\",\n                //replace razorpay API key\n                name: filledData.name,\n                description: filledData.firstName,\n                order_id: data.id,\n                handler: function () {\n                  var _handler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(response) {\n                    var paymentId, url, captureResponse, successObj, captured;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.prev = 0;\n                            paymentId = response.razorpay_payment_id;\n                            console.log(paymentId);\n                            url = \"http://localhost:7000/razorpay/capture/\".concat(paymentId);\n                            _context.next = 6;\n                            return Axios.post(url, {\n                              amount: 1\n                            });\n\n                          case 6:\n                            captureResponse = _context.sent;\n                            successObj = JSON.parse(captureResponse.data);\n                            captured = successObj.captured;\n                            console.log(\"App -> razorPayPaymentHandler -> captured\", successObj);\n\n                            if (captured) {\n                              // swal(\"Payment Successfull\", \"\", \"success\");\n                              console.log(\"success\");\n\n                              _this.setState({\n                                name: \"\",\n                                decription: \"\",\n                                amount: \"\"\n                              });\n                            }\n\n                            _context.next = 16;\n                            break;\n\n                          case 13:\n                            _context.prev = 13;\n                            _context.t0 = _context[\"catch\"](0);\n                            console.log(_context.t0);\n\n                          case 16:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, null, [[0, 13]]);\n                  }));\n\n                  function handler(_x2) {\n                    return _handler.apply(this, arguments);\n                  }\n\n                  return handler;\n                }(),\n                theme: {\n                  color: \"#686CFD\"\n                }\n              };\n              rzp1 = new window.Razorpay(options);\n              rzp1.open();\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function razorPayPaymentHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSuccess = function onSuccess(payment) {\n    console.log(payment);\n    router.push({\n      pathname: \"/page/order-success\",\n      state: {\n        payment: payment,\n        items: cartItems,\n        orderTotal: total,\n        symbol: symbol\n      }\n    });\n  };\n\n  var onSubmit = function onSubmit(data) {\n    if (data !== \"\") {\n      if (payment == \"stripe\") {} else if (payment == \"Razorpay\") {\n        razorPayPaymentHandler(data);\n      } else if (payment == \"Gpay\") {\n        onBuyClicked(); // razorPayPaymentHandler(data);\n      } // getServerSideProps();\n      // const paymentIntent  =  stripe.paymentIntents.create({\n      //   amount: 1,\n      //   currency: 'usd',\n      //   payment_method_types: ['card'],\n      //   receipt_email: 'jenny.rosen@example.com',\n      // }).then((res)=>{\n      //   console.log(res);\n      // });\n      // setPayment\n\n    } else {\n      errors.showMessages();\n    }\n  };\n\n  var setStateFromInput = function setStateFromInput(event) {\n    obj[event.target.name] = event.target.value;\n    setObj(obj);\n  };\n\n  var onCancel = function onCancel(data) {\n    console.log(\"The payment was cancelled!\", data);\n  };\n\n  var onError = function onError(err) {\n    console.log(\"Paypal not display\");\n    console.log(\"Error!\", err);\n  };\n\n  var paypalOptions = {\n    clientId: \"ASgLRZ4iCd_ijakIF5qE9CLiJY-lOiQN9kF50GNJ4d4g5lCJq5PhIaqhOSI9bJObkp4X6mgD0Op_DBCf\",\n    currency: \"USD\",\n    debug: true,\n    intent: \"capture\"\n  };\n  return __jsx(\"section\", {\n    className: \"section-b-space\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"checkout-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"checkout-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }\n  }, __jsx(Form, {\n    onSubmit: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 15\n    }\n  }, __jsx(Col, {\n    lg: \"6\",\n    sm: \"12\",\n    xs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"checkout-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 19\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 21\n    }\n  }, \"Billing Details\")), __jsx(\"div\", {\n    className: \"row check-out\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group col-md-6 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 23\n    }\n  }, \"First Name\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"\".concat(errors.firstName ? \"error_border\" : \"\"),\n    name: \"first_name\",\n    ref: register({\n      required: true\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 23\n    }\n  }), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 23\n    }\n  }, errors.firstName && \"First name is required\")), __jsx(\"div\", {\n    className: \"form-group col-md-6 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 23\n    }\n  }, \"Last Name\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"\".concat(errors.last_name ? \"error_border\" : \"\"),\n    name: \"last_name\",\n    ref: register({\n      required: true\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 23\n    }\n  }), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 23\n    }\n  }, errors.last_name && \"Last name is required\")), __jsx(\"div\", {\n    className: \"form-group col-md-6 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 23\n    }\n  }, \"Phone\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"phone\",\n    className: \"\".concat(errors.phone ? \"error_border\" : \"\"),\n    ref: register({\n      pattern: /\\d+/\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 23\n    }\n  }), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 23\n    }\n  }, errors.phone && \"Please enter number for phone.\")), __jsx(\"div\", {\n    className: \"form-group col-md-6 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 23\n    }\n  }, \"Email Address\"), __jsx(\"input\", (_jsx = {\n    className: \"form-control\"\n  }, _defineProperty(_jsx, \"className\", \"\".concat(errors.email ? \"error_border\" : \"\")), _defineProperty(_jsx, \"type\", \"text\"), _defineProperty(_jsx, \"name\", \"email\"), _defineProperty(_jsx, \"ref\", register({\n    required: true,\n    pattern: /^\\S+@\\S+$/i\n  })), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 23\n  }), _jsx)), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 23\n    }\n  }, errors.email && \"Please enter proper email address .\")), __jsx(\"div\", {\n    className: \"form-group col-md-12 col-sm-12 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 23\n    }\n  }, \"Country\"), __jsx(\"select\", {\n    name: \"country\",\n    ref: register({\n      required: true\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 23\n    }\n  }, __jsx(\"option\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 25\n    }\n  }, \"India\"), __jsx(\"option\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 25\n    }\n  }, \"South Africa\"), __jsx(\"option\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 25\n    }\n  }, \"United State\"), __jsx(\"option\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 25\n    }\n  }, \"Australia\"))), __jsx(\"div\", {\n    className: \"form-group col-md-12 col-sm-12 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 23\n    }\n  }, \"Address\"), __jsx(\"input\", (_jsx2 = {\n    className: \"form-control\"\n  }, _defineProperty(_jsx2, \"className\", \"\".concat(errors.address ? \"error_border\" : \"\")), _defineProperty(_jsx2, \"type\", \"text\"), _defineProperty(_jsx2, \"name\", \"address\"), _defineProperty(_jsx2, \"ref\", register({\n    required: true,\n    min: 20,\n    max: 120\n  })), _defineProperty(_jsx2, \"placeholder\", \"Street address\"), _defineProperty(_jsx2, \"__self\", _this), _defineProperty(_jsx2, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 418,\n    columnNumber: 23\n  }), _jsx2)), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 23\n    }\n  }, errors.address && \"Please right your address .\")), __jsx(\"div\", {\n    className: \"form-group col-md-12 col-sm-12 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 23\n    }\n  }, \"Town/City\"), __jsx(\"input\", (_jsx3 = {\n    className: \"form-control\",\n    type: \"text\"\n  }, _defineProperty(_jsx3, \"className\", \"\".concat(errors.city ? \"error_border\" : \"\")), _defineProperty(_jsx3, \"name\", \"city\"), _defineProperty(_jsx3, \"ref\", register({\n    required: true\n  })), _defineProperty(_jsx3, \"onChange\", setStateFromInput), _defineProperty(_jsx3, \"__self\", _this), _defineProperty(_jsx3, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 432,\n    columnNumber: 23\n  }), _jsx3)), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 23\n    }\n  }, errors.city && \"select one city\")), __jsx(\"div\", {\n    className: \"form-group col-md-12 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 23\n    }\n  }, \"State / County\"), __jsx(\"input\", (_jsx4 = {\n    className: \"form-control\",\n    type: \"text\"\n  }, _defineProperty(_jsx4, \"className\", \"\".concat(errors.state ? \"error_border\" : \"\")), _defineProperty(_jsx4, \"name\", \"state\"), _defineProperty(_jsx4, \"ref\", register({\n    required: true\n  })), _defineProperty(_jsx4, \"onChange\", setStateFromInput), _defineProperty(_jsx4, \"__self\", _this), _defineProperty(_jsx4, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 23\n  }), _jsx4)), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 23\n    }\n  }, errors.state && \"select one state\")), __jsx(\"div\", {\n    className: \"form-group col-md-12 col-sm-6 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"field-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 23\n    }\n  }, \"Postal Code\"), __jsx(\"input\", (_jsx5 = {\n    className: \"form-control\",\n    type: \"text\",\n    name: \"pincode\"\n  }, _defineProperty(_jsx5, \"className\", \"\".concat(errors.pincode ? \"error_border\" : \"\")), _defineProperty(_jsx5, \"ref\", register({\n    pattern: /\\d+/\n  })), _defineProperty(_jsx5, \"__self\", _this), _defineProperty(_jsx5, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 460,\n    columnNumber: 23\n  }), _jsx5)), __jsx(\"span\", {\n    className: \"error-message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 23\n    }\n  }, errors.pincode && \"Required integer\")), __jsx(\"div\", {\n    className: \"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    name: \"create_account\",\n    id: \"account-option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 23\n    }\n  }), \"\\u2002\", \" \", __jsx(\"label\", {\n    htmlFor: \"account-option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 23\n    }\n  }, \"Create An Account?\")))), __jsx(Col, {\n    lg: \"6\",\n    sm: \"12\",\n    xs: \"12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }, cartItems && cartItems.length > 0 > 0 ? __jsx(\"div\", {\n    className: \"checkout-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"order-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"title-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 27\n    }\n  }, \"Product \", __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 37\n    }\n  }, \"Total\"))), __jsx(\"ul\", {\n    className: \"qty\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, cartItems.map(function (item, index) {\n    return __jsx(\"li\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 29\n      }\n    }, item.title, \" \\xD7 \", item.qty, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 31\n      }\n    }, symbol, item.total.toFixed(2)));\n  })), __jsx(\"ul\", {\n    className: \"sub-total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 25\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 27\n    }\n  }, \"Subtotal\", __jsx(\"span\", {\n    className: \"count\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 29\n    }\n  }, symbol, cartTotal)), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 27\n    }\n  }, \"Shipping\", __jsx(\"div\", {\n    className: \"shipping\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"shopping-option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 31\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    name: \"free-shipping\",\n    id: \"free-shipping\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 33\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"free-shipping\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 33\n    }\n  }, \"Free Shipping\")), __jsx(\"div\", {\n    className: \"shopping-option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 31\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    name: \"local-pickup\",\n    id: \"local-pickup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 33\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"local-pickup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 33\n    }\n  }, \"Local Pickup\"))))), __jsx(\"ul\", {\n    className: \"total\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 25\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 27\n    }\n  }, \"Total\", \" \", __jsx(\"span\", {\n    className: \"count\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 29\n    }\n  }, symbol, cartTotal)))), __jsx(\"div\", {\n    className: \"payment-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"upper-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"payment-options\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 27\n    }\n  }, __jsx(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 29\n    }\n  }, __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"radio-option gpay\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"payment-group\",\n    id: \"payment-4\",\n    defaultChecked: true,\n    onClick: function onClick() {\n      return checkhandle(\"Gpay\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 35\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"payment-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 35\n    }\n  }, \"Gpay\"))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"radio-option Razorpay\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"payment-group\",\n    id: \"payment-3\",\n    onClick: function onClick() {\n      return checkhandle(\"Razorpay\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 35\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"payment-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 35\n    }\n  }, \"Razorpay\"))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 31\n    }\n  }, __jsx(\"div\", {\n    className: \"radio-option stripe\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"payment-group\",\n    id: \"payment-2\",\n    onClick: function onClick() {\n      return checkhandle(\"stripe\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 35\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"payment-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 35\n    }\n  }, \"Stripe\"))), __jsx(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 31\n    }\n  }, __jsx(\"div\", {\n    className: \"radio-option paypal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 33\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    name: \"payment-group\",\n    id: \"payment-1\",\n    onClick: function onClick() {\n      return checkhandle(\"paypal\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 35\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"payment-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 35\n    }\n  }, \"PayPal\", __jsx(\"span\", {\n    className: \"image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 37\n    }\n  }, __jsx(Media, {\n    src: paypal,\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 39\n    }\n  })))))))), cartTotal !== 0 ? __jsx(\"div\", {\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 27\n    }\n  }, payment === \"stripe\" ? __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn-solid btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 31\n    }\n  }, \"Place Order\") : payment === \"paypal\" ? __jsx(PayPalButton, {\n    paypalOptions: paypalOptions,\n    amount: 1,\n    onPaymentSuccess: onSuccess,\n    onPaymentError: onError,\n    onApprove: onSuccess,\n    onPaymentCancel: onCancel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 31\n    }\n  }) : payment === \"Razorpay\" ? __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn-solid btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 31\n    }\n  }, \"Razorpay Place Order\") : __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn-solid btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 31\n    }\n  }, \"Gpay Place Order\")) : \"\")) : \"\")))))));\n};\n\n_s(CheckoutPage, \"YM+w8I+BO4FbRVm/oi2gKroV3cg=\", false, function () {\n  return [useForm, useRouter];\n});\n\n_c = CheckoutPage;\nexport var __N_SSP = true;\nexport default CheckoutPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"sources":["C:/Mani/Office/Template/StwEcommerce/frontend/pages/page/account/common/checkout-page.js"],"names":["React","useContext","useState","Media","Container","Form","Row","Input","Col","PayPalButton","CartContext","paypal","useForm","useRouter","Axios","CurrencyContext","strip","GooglePayButton","CheckoutPage","cartContext","cartItems","state","cartTotal","toFixed","curContext","symbol","obj","setObj","payment","setPayment","register","handleSubmit","errors","router","checkhandle","value","onBuyClicked","creditCardPaymentMethod","supportedMethods","data","supportedNetworks","supportedTypes","supportedInstruments","pa","pn","tr","url","mc","tn","details","total","label","amount","currency","displayItems","request","PaymentRequest","console","log","e","alert","message","canMakePaymentPromise","checkCanMakePayment","then","result","showPaymentUI","err","canMakePaymentCache","sessionStorage","hasOwnProperty","Promise","resolve","JSON","parse","canMakePayment","handleNotReadyToPay","paymentTimeout","window","setTimeout","clearTimeout","abort","show","paymentResponse","processResponse","paymentResponseString","paymentResponseToJsonString","loadScript","src","script","document","createElement","onload","onerror","body","appendChild","razorPayPaymentHandler","filledData","res","API_URL","orderUrl","post","response","options","key","name","description","firstName","order_id","id","handler","paymentId","razorpay_payment_id","captureResponse","successObj","captured","setState","decription","theme","color","rzp1","Razorpay","open","onSuccess","push","pathname","items","orderTotal","onSubmit","showMessages","setStateFromInput","event","target","onCancel","onError","paypalOptions","clientId","debug","intent","required","last_name","phone","pattern","email","address","min","max","city","pincode","length","map","item","index","title","qty"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { Media, Container, Form, Row, Input, Col } from \"reactstrap\";\r\nimport { PayPalButton } from \"react-paypal-button\";\r\nimport CartContext from \"../../../../helpers/cart\";\r\nimport paypal from \"../../../../public/assets/images/paypal.png\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useRouter } from \"next/router\";\r\nimport Axios  from \"axios\";\r\nimport { CurrencyContext } from \"../../../../helpers/Currency/CurrencyContext\";\r\nimport strip from 'stripe'\r\nimport GooglePayButton from '@google-pay/button-react';\r\n\r\n// import  Razorpay = require('razorpay');\r\n// const stripe = require('stripe')('pk_live_51IYvwgAR19qkTg2Rtd20aLk5vwFsCRajMN8I9aZl8zFfXj14qDxppEDhfLMp51b9OohTumAh7vSlO6IccIP5iIh600zA024lK7');\r\n\r\nexport const getServerSideProps = async () => {\r\n  const stripe = new Stripe(\"pk_test_51IYvwgAR19qkTg2RIHVWDgFEXkDifm6eeEgXFPxus4HkBdRYEisZHrj97vKXJXr64LlXA3XjCIqtRWvZ5c0l1JTn00X5Apw6MC\");\r\n\r\n  const paymentIntent = await stripe.paymentIntents.create({\r\n    amount: 1,\r\n    currency: \"usd\"\r\n  });\r\n\r\n  return {\r\n    props: {\r\n      paymentIntent\r\n    }\r\n  };\r\n};\r\n\r\n\r\nconst CheckoutPage = () => {\r\n  const cartContext = useContext(CartContext);\r\n  const cartItems = cartContext.state;\r\n  const cartTotal = (cartContext.cartTotal).toFixed(2);\r\n  const curContext = useContext(CurrencyContext);\r\n  const symbol = curContext.state.symbol;\r\n  const [obj, setObj] = useState({});\r\n  const [payment, setPayment] = useState(\"Gpay\");\r\n  const { register, handleSubmit, errors } = useForm(); // initialise the hook\r\n  const router = useRouter();\r\n \r\n\r\n \r\n  const checkhandle = (value) => {\r\n    setPayment(value);\r\n  };\r\n\r\n/** Launches payment request flow when user taps on buy button. */\r\nconst onBuyClicked = () =>{\r\n  const creditCardPaymentMethod = {\r\n    supportedMethods: 'basic-card',\r\n    data: {\r\n        supportedNetworks: ['visa', 'mastercard'],\r\n        supportedTypes: ['credit', 'debit']\r\n    }\r\n};\r\nconst supportedInstruments = [   \r\n    {     \r\n        supportedMethods: ['https://tez.google.com/pay'],\r\n        //supportedMethods:[creditCardPaymentMethod],\r\n        data: {\r\n\r\n            pa:'shoptheworld@dbs',\r\n            pn:'STW E-Commerce',\r\n            tr:'123456ABCDEFSD',\r\n            url:'***********',\r\n            mc:'5045',\r\n            tn:'Purchase in Merchant'\r\n        }   \r\n    } \r\n];\r\n\r\nvar details = \r\n    {   \r\n    total: \r\n        {     \r\n        label:'Total',     \r\n        amount: {       \r\n            currency:'INR',       \r\n            value:'10.01' //sample amount \r\n        }\r\n    },\r\n    displayItems: [\r\n        {\r\n            label:'Original Amount',     \r\n            amount: {       \r\n                currency:'INR',       \r\n                value:'10.01'\r\n            }\r\n        }\r\n    ]\r\n};\r\nvar request =null;\r\ntry {\r\n    request = new PaymentRequest(supportedInstruments, details);\r\n    console.log(request);\r\n    /*request.show()\r\n    .then(function(result){\r\n        alert(\"hai\");\r\n    })\r\n     .catch(function(err){\r\n        alert('Payment Request Error: '+ err.message+' 74'); \r\n    });*/\r\n}catch (e) {\r\n    alert('Payment Request Error: '+ e.message+'77'); \r\n    console.log('Payment Request Error: '+ e.message);\r\n    //return;\r\n} \r\nif (!request) {  \r\n    alert('Web payments are not supported in this browser 77'); \r\n    console.log('Web payments are not supported in this browser.'); \r\n    // return;\r\n} \r\n\r\nvar canMakePaymentPromise = checkCanMakePayment(request);\r\ncanMakePaymentPromise\r\n.then(function(result){\r\n    showPaymentUI(request,result)\r\n})\r\n.catch(function(err){\r\n    console.log('Error in calling checkCanMakePayment: ' + err); \r\n});\r\n};\r\nconst canMakePaymentCache = 'canMakePaymentCache';\r\n\r\n// const loadScript=(src) => \r\nconst checkCanMakePayment=(request)=>{\r\n// Checks canMakePayment cache, and use the cache result if it exists. \r\nif(sessionStorage.hasOwnProperty(canMakePaymentCache)){\r\n  return Promise.resolve(JSON.parse(sessionStorage[canMakePaymentCache]));\r\n}\r\n\r\n// If canMakePayment() isn't available, default to assuming that the method is supported\r\nvar canMakePaymentPromise = request.canMakePayment();\r\n\r\nif(request.canMakePayment){\r\n  canMakePaymentPromise = request.canMakePayment();\r\n}\r\n\r\nreturn canMakePaymentPromise\r\n.then(function(result){\r\n  sessionStorage[canMakePaymentCache] = result;\r\n  return result;\r\n})\r\n.catch(function (err){\r\n  alert('Error calling canMakePayment: '+ err);\r\n  console.log('Error calling canMakePayment: '+ err);\r\n});\r\n};\r\n\r\nconst showPaymentUI=(request, canMakePayment)=>{\r\n  if(!canMakePayment){\r\n    handleNotReadyToPay();\r\n    return;\r\n}\r\n// Set payment timeout.\r\nvar paymentTimeout = window.setTimeout(function(){\r\n    window.clearTimeout(paymentTimeout);\r\n    request.abort()\r\n    .then(function(){\r\n        alert('Payment timed out after 20 mins 129');\r\n        console.log('Payment timed out after 20 mins');\r\n    }).catch(function(){\r\n        alert('Unable to abort,user is in process of paying 132');\r\n        console.log('Unable to abort,user is in process of paying');\r\n    }); \r\n}, 20 * 60 * 1000);\r\nrequest.show()\r\n.then(function(paymentResponse){\r\n    window.clearTimeout(paymentTimeout);\r\n    alert(\"Request Success\");\r\n    console.log(paymentResponse);\r\n    processResponse(paymentResponse); // Handle response from browser\r\n})\r\n.catch(function (err){\r\n   alert(err +'142');\r\n   console.log(err);\r\n});\r\n  };\r\n\r\n  \r\nconst handleNotReadyToPay=()=>{\r\n  alert(\"Tez is not ready to handle 149\");\r\n  };\r\n  \r\n  const processResponse = (paymentResponse)=>{\r\n    var paymentResponseString = paymentResponseToJsonString(paymentResponse);\r\n    console.log(paymentResponseString);\r\n    /* fetch('/buy',{\r\n        method: 'POST',\r\n        headers: new Headers({'Content-Type':'application/json'}),\r\n        body:paymentResponseString\r\n    })\r\n    .then(function(buyResult){\r\n        console.log('Buy Result'+buyResult);   \r\n    })\r\n    .catch(function(err){\r\n      console.log('Unable to process payment. '+err);   \r\n    });*/\r\n    };\r\n\r\n  const loadScript=(src) => {\r\n    return new Promise((resolve) => {\r\n      const script = document.createElement('script');\r\n      script.src = src;\r\n      script.onload = () => {\r\n        resolve(true);\r\n      };\r\n      script.onerror = () => {\r\n        resolve(false);\r\n      };\r\n      document.body.appendChild(script);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  const razorPayPaymentHandler = async (filledData) => {\r\n\r\n    const res = await loadScript(\r\n      'https://checkout.razorpay.com/v1/checkout.js'\r\n    );\r\n\r\n    if (!res) {\r\n      alert('Razorpay SDK failed to load. Are you online?');\r\n      return;\r\n    }\r\n\r\n\r\n    const API_URL = `http://localhost:7000/razorpay/`;\r\n    const orderUrl = `${API_URL}order`;\r\n    const response = await Axios.post(orderUrl, { amount: 1 });\r\n    const { data } = response;\r\n    console.log(\"App -> razorPayPaymentHandler -> data\", data);\r\n\r\n    const options = {\r\n      key: \"\",//replace razorpay API key\r\n      name: filledData.name,\r\n      description: filledData.firstName,\r\n      order_id: data.id,\r\n      handler: async (response) => {\r\n        try {\r\n          const paymentId = response.razorpay_payment_id;\r\n          console.log(paymentId);\r\n          const url = `http://localhost:7000/razorpay/capture/${paymentId}`;\r\n          const captureResponse = await Axios.post(url, {\r\n            amount: 1,\r\n          });\r\n          const successObj = JSON.parse(captureResponse.data);\r\n          const captured = successObj.captured;\r\n          console.log(\"App -> razorPayPaymentHandler -> captured\", successObj);\r\n          if (captured) {\r\n            // swal(\"Payment Successfull\", \"\", \"success\");\r\n            console.log(\"success\");\r\n            this.setState({ name: \"\", decription: \"\", amount: \"\",});\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n      theme: {\r\n        color: \"#686CFD\",\r\n      },\r\n    };\r\n    const rzp1 = new window.Razorpay(options);\r\n    rzp1.open();\r\n  };\r\n\r\n\r\n  const onSuccess = (payment) => {\r\n    console.log(payment);\r\n    router.push({\r\n      pathname: \"/page/order-success\",\r\n      state: {\r\n        payment: payment,\r\n        items: cartItems,\r\n        orderTotal: total,\r\n        symbol: symbol,\r\n      },\r\n    });\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    if (data !== \"\") {\r\n\r\n        if(payment == \"stripe\")\r\n        {\r\n\r\n        }\r\n        else if(payment == \"Razorpay\")\r\n        {\r\n            razorPayPaymentHandler(data);\r\n        }\r\n        else if(payment == \"Gpay\")\r\n        {\r\n          onBuyClicked();\r\n            // razorPayPaymentHandler(data);\r\n        }\r\n        \r\n\r\n      // getServerSideProps();\r\n      // const paymentIntent  =  stripe.paymentIntents.create({\r\n      //   amount: 1,\r\n      //   currency: 'usd',\r\n      //   payment_method_types: ['card'],\r\n      //   receipt_email: 'jenny.rosen@example.com',\r\n      // }).then((res)=>{\r\n      //   console.log(res);\r\n      // });\r\n\r\n      // setPayment\r\n      \r\n       \r\n    } else {\r\n      errors.showMessages();\r\n    }\r\n  };\r\n\r\n  const setStateFromInput = (event) => {\r\n    obj[event.target.name] = event.target.value;\r\n    setObj(obj);\r\n  };\r\n\r\n  const onCancel = (data,) => {\r\n    console.log(\"The payment was cancelled!\", data);\r\n  };\r\n\r\n  const onError = (err) => {\r\n    console.log(\"Paypal not display\");\r\n    console.log(\"Error!\", err);\r\n  };\r\n\r\n\r\n\r\n  const paypalOptions = {\r\n    clientId:\"ASgLRZ4iCd_ijakIF5qE9CLiJY-lOiQN9kF50GNJ4d4g5lCJq5PhIaqhOSI9bJObkp4X6mgD0Op_DBCf\",\r\n    currency:\"USD\",\r\n    debug:true,\r\n    intent:\"capture\"\r\n  };\r\n\r\n  return (\r\n    <section className=\"section-b-space\">\r\n      <Container>\r\n        <div className=\"checkout-page\">\r\n          <div className=\"checkout-form\">\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n              <Row>\r\n                <Col lg=\"6\" sm=\"12\" xs=\"12\">\r\n                  <div className=\"checkout-title\">\r\n                    <h3>Billing Details</h3>\r\n                  </div>\r\n                  <div className=\"row check-out\">\r\n                    <div className=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">First Name</div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className={`${errors.firstName ? \"error_border\" : \"\"}`}\r\n                        name=\"first_name\"\r\n                        ref={register({ required: true })}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.firstName && \"First name is required\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">Last Name</div>\r\n                      <input\r\n                        type=\"text\"\r\n                        className={`${errors.last_name ? \"error_border\" : \"\"}`}\r\n                        name=\"last_name\"\r\n                        ref={register({ required: true })}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.last_name && \"Last name is required\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">Phone</div>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        className={`${errors.phone ? \"error_border\" : \"\"}`}\r\n                        ref={register({ pattern: /\\d+/ })}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.phone && \"Please enter number for phone.\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">Email Address</div>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        className={`${errors.email ? \"error_border\" : \"\"}`}\r\n                        type=\"text\"\r\n                        name=\"email\"\r\n                        ref={register({\r\n                          required: true,\r\n                          pattern: /^\\S+@\\S+$/i,\r\n                        })}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.email && \"Please enter proper email address .\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                      <div className=\"field-label\">Country</div>\r\n                      <select name=\"country\" ref={register({ required: true })}>\r\n                        <option>India</option>\r\n                        <option>South Africa</option>\r\n                        <option>United State</option>\r\n                        <option>Australia</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                      <div className=\"field-label\">Address</div>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        className={`${errors.address ? \"error_border\" : \"\"}`}\r\n                        type=\"text\"\r\n                        name=\"address\"\r\n                        ref={register({ required: true, min: 20, max: 120 })}\r\n                        placeholder=\"Street address\"\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.address && \"Please right your address .\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-12 col-sm-12 col-xs-12\">\r\n                      <div className=\"field-label\">Town/City</div>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        className={`${errors.city ? \"error_border\" : \"\"}`}\r\n                        name=\"city\"\r\n                        ref={register({ required: true })}\r\n                        onChange={setStateFromInput}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.city && \"select one city\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-12 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">State / County</div>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        className={`${errors.state ? \"error_border\" : \"\"}`}\r\n                        name=\"state\"\r\n                        ref={register({ required: true })}\r\n                        onChange={setStateFromInput}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.state && \"select one state\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-md-12 col-sm-6 col-xs-12\">\r\n                      <div className=\"field-label\">Postal Code</div>\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"pincode\"\r\n                        className={`${errors.pincode ? \"error_border\" : \"\"}`}\r\n                        ref={register({ pattern: /\\d+/ })}\r\n                      />\r\n                      <span className=\"error-message\">\r\n                        {errors.pincode && \"Required integer\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        name=\"create_account\"\r\n                        id=\"account-option\"\r\n                      />\r\n                      &ensp;{\" \"}\r\n                      <label htmlFor=\"account-option\">Create An Account?</label>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                <Col lg=\"6\" sm=\"12\" xs=\"12\">\r\n                  {cartItems && cartItems.length > 0 > 0 ? (\r\n                    <div className=\"checkout-details\">\r\n                      <div className=\"order-box\">\r\n                        <div className=\"title-box\">\r\n                          <div>\r\n                            Product <span>Total</span>\r\n                          </div>\r\n                        </div>\r\n                        <ul className=\"qty\">\r\n                          {cartItems.map((item, index) => (\r\n                            <li key={index}>\r\n                              {item.title}  {item.qty}\r\n                              <span>\r\n                                {symbol}\r\n                                {(item.total).toFixed(2)}\r\n                              </span>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                        <ul className=\"sub-total\">\r\n                          <li>\r\n                            Subtotal\r\n                            <span className=\"count\">\r\n                              {symbol}\r\n                              {cartTotal}\r\n                            </span>\r\n                          </li>\r\n                          <li>\r\n                            Shipping\r\n                            <div className=\"shipping\">\r\n                              <div className=\"shopping-option\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  name=\"free-shipping\"\r\n                                  id=\"free-shipping\"\r\n                                />\r\n                                <label htmlFor=\"free-shipping\">\r\n                                  Free Shipping\r\n                                </label>\r\n                              </div>\r\n                              <div className=\"shopping-option\">\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  name=\"local-pickup\"\r\n                                  id=\"local-pickup\"\r\n                                />\r\n                                <label htmlFor=\"local-pickup\">\r\n                                  Local Pickup\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          </li>\r\n                        </ul>\r\n                        <ul className=\"total\">\r\n                          <li>\r\n                            Total{\" \"}\r\n                            <span className=\"count\">\r\n                              {symbol}\r\n                              {cartTotal}\r\n                            </span>\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                      <div className=\"payment-box\">\r\n                        <div className=\"upper-box\">\r\n                          <div className=\"payment-options\">\r\n                            <ul>\r\n                            <li>\r\n                                <div className=\"radio-option gpay\">\r\n                                  <input\r\n                                    type=\"radio\"\r\n                                    name=\"payment-group\"\r\n                                    id=\"payment-4\"\r\n                                    defaultChecked={true}\r\n                                    onClick={() => checkhandle(\"Gpay\")}\r\n                                  />\r\n                                  <label htmlFor=\"payment-4\">Gpay</label>\r\n                                </div>\r\n                              </li>\r\n                            <li>\r\n                                <div className=\"radio-option Razorpay\">\r\n                                  <input\r\n                                    type=\"radio\"\r\n                                    name=\"payment-group\"\r\n                                    id=\"payment-3\"\r\n                                    onClick={() => checkhandle(\"Razorpay\")}\r\n                                  />\r\n                                  <label htmlFor=\"payment-3\">Razorpay</label>\r\n                                </div>\r\n                              </li>\r\n                              <li>\r\n                                <div className=\"radio-option stripe\">\r\n                                  <input\r\n                                    type=\"radio\"\r\n                                    name=\"payment-group\"\r\n                                    id=\"payment-2\"\r\n                                    onClick={() => checkhandle(\"stripe\")}\r\n                                  />\r\n                                  <label htmlFor=\"payment-2\">Stripe</label>\r\n                                </div>\r\n                              </li>\r\n                              <li>\r\n                                <div className=\"radio-option paypal\">\r\n                                  <input\r\n                                    type=\"radio\"\r\n                                    name=\"payment-group\"\r\n                                    id=\"payment-1\"\r\n                                    onClick={() => checkhandle(\"paypal\")}\r\n                                  />\r\n                                  <label htmlFor=\"payment-1\">\r\n                                    PayPal\r\n                                    <span className=\"image\">\r\n                                      <Media src={paypal} alt=\"\" />\r\n                                    </span>\r\n                                  </label>\r\n                                </div>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                        {cartTotal !== 0 ? (\r\n                          <div className=\"text-right\">\r\n                            {payment === \"stripe\" ? (\r\n                              <button type=\"submit\" className=\"btn-solid btn\">\r\n                                Place Order\r\n                              </button>\r\n                            ) : payment === \"paypal\" ? (\r\n                              <PayPalButton\r\n                                paypalOptions={paypalOptions}\r\n                                amount={1}\r\n                                onPaymentSuccess={onSuccess}\r\n                                onPaymentError={onError}\r\n                                onApprove={onSuccess}\r\n                                onPaymentCancel={onCancel}\r\n                              />\r\n                            ) : payment === \"Razorpay\" ? (\r\n                              <button type=\"submit\" className=\"btn-solid btn\">\r\n                                Razorpay Place Order\r\n                              </button>\r\n                            ) : (\r\n                              <button type=\"submit\" className=\"btn-solid btn\">\r\n                                Gpay Place Order\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n"]},"metadata":{},"sourceType":"module"}